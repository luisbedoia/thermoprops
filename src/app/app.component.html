<!-- <p>ok</p>
<button (click)="PropsSI()">Imprimir</button> -->
<div class="main-div" *ngIf="!loaded">
    <mat-spinner>

    </mat-spinner>
</div>

<div class="main-div bg-color">
    <mat-card class="example-card">
        <mat-card-header>
            <mat-card-title>Thermoprops</mat-card-title>
            <mat-card-subtitle>Thermodynamic properties calculator</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
            <form class="example-form">
                <mat-form-field class="example-full-width" appearance="fill">
                    <mat-label>Search a substance</mat-label>
                    <input type="text" placeholder="Pick one" aria-label="Search a substance" matInput
                        [matAutocomplete]="auto" [formControl]="selectedFluid">
                    <mat-autocomplete [displayWith]="displayFn" autoActiveFirstOption #auto="matAutocomplete">
                        <mat-option *ngFor="let fluid of filteredOptions | async" [value]="fluid">
                            {{fluid.name}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
                <div *ngIf="selectedFluid.value && selectedFluid.value.name">
                    <p>
                        Aliases: <span *ngFor="let alias of selectedFluid.value.aliases"> {{alias}},</span>
                        <a mat-raised-button class="view-details" target="_blank">View details</a>
                    </p>
                </div>

                <!-- <div class="example-container">
                    <mat-form-field appearance="fill">
                        <mat-label>Property to calculate</mat-label>
                        <mat-select>
                            <mat-option *ngFor="let prop of availableProps1" [value]="prop.id">
                                {{prop.key}} [{{prop.units}}]
                            </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field appearance="fill">
                        <input disabled matInput type="number" [value]="resultado" placeholder="...">
                    </mat-form-field>
                </div> -->

                <div class="example-container">
                    <mat-form-field appearance="fill">
                        <mat-label>Input property</mat-label>
                        <mat-select (selectionChange)="onSelectProperty($event.value)" [(ngModel)]="prop1"
                            [ngModelOptions]="{standalone: true}">
                            <mat-option *ngFor="let prop of availableProps1" [value]="prop">
                                {{prop.key}} [{{prop.units}}]
                            </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field appearance="fill">
                        <input matInput type="text" [(ngModel)]="prop1.value" [ngModelOptions]="{standalone: true}"
                            placeholder="">
                        <button *ngIf="prop1.value" matSuffix mat-icon-button aria-label="Clear"
                            (click)="prop1.value=''">
                            <mat-icon>close</mat-icon>
                        </button>
                    </mat-form-field>
                </div>

                <div class="example-container">
                    <mat-form-field appearance="fill">
                        <mat-label>Input property</mat-label>
                        <mat-select (selectionChange)="onSelectProperty($event.value)" [(ngModel)]="prop2"
                            [ngModelOptions]="{standalone: true}">
                            <mat-option *ngFor="let prop of availableProps2" [value]="prop">
                                {{prop.key}} [{{prop.units}}]
                            </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field appearance="fill">
                        <input matInput type="text" [(ngModel)]="prop2.value" [ngModelOptions]="{standalone: true}"
                            placeholder="">
                        <button *ngIf="prop2.value" matSuffix mat-icon-button aria-label="Clear"
                            (click)="prop2.value=''">
                            <mat-icon>close</mat-icon>
                        </button>
                    </mat-form-field>
                </div>
            </form>

            <mat-list role="list">
                <mat-list-item role="listitem" matTooltip="fbjdbjd" *ngFor="let x of results">{{x.key}} = {{x.value | number}} [{{x.units}}]</mat-list-item>
            </mat-list>
            <!-- matTooltip={{x.type}} -->



        </mat-card-content>
        <mat-card-actions align="end">
            <button mat-raised-button color="primary" (click)="calculate()">Calculate</button>
        </mat-card-actions>
    </mat-card>
</div>